(function(){"use strict";function a(r,e,t,w,m,n,h,k){var i=typeof r=="function"?r.options:r;return e&&(i.render=e,i.staticRenderFns=t,i._compiled=!0),n&&(i._scopeId="data-v-"+n),{exports:r,options:i}}const s={name:"CaptionViewer",props:{src:{type:String,required:!0}},data(){return{text:"",loading:!1,error:null}},watch:{src:{immediate:!0,handler(){this.load()}}},methods:{async load(){this.loading=!0,this.error=null,this.text="";try{const r=await fetch(this.src,{credentials:"same-origin"});if(!r.ok)throw new Error(`HTTP ${r.status}`);let e=await r.text();e=e.replace(/^\uFEFF/,"").replace(/\r\n?/g,`
`),e=e.replace(/\n{3,}/g,`

`),this.text=e}catch(r){this.error=`Couldn’t load captions (${r.message})`}finally{this.loading=!1}}}};var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"k-caption-viewer"},[e.loading?t("div",{staticClass:"k-caption-viewer__state"},[e._v("Loading…")]):e.error?t("div",{staticClass:"k-caption-viewer__state k-caption-viewer__state--error"},[e._v(e._s(e.error))]):t("pre",{staticClass:"k-caption-viewer__pre",attrs:{spellcheck:"false"}},[e._v(e._s(e.text))]),t("div",{staticClass:"k-caption-viewer__footer"},[t("k-button",{attrs:{link:e.src,icon:"open",target:"_blank"}},[e._v("Open raw file")])],1)])},l=[],c=a(s,o,l,!1,null,"1f2b3889");const _=c.exports,p={name:"KCaptionFilePreview",props:{details:Array,url:String},components:{CaptionViewer:_}};var d=function(){var e=this,t=e._self._c;return t("figure",{staticClass:"k-default-file-preview k-caption-file-preview"},[t("k-file-preview-frame",[t("caption-viewer",{attrs:{src:e.url}})],1),t("k-file-preview-details",{attrs:{details:e.details}})],1)},f=[],v=a(p,d,f,!1,null,null);const u=v.exports;panel.plugin("scottboms/video-captions",{components:{"k-caption-file-preview":u}})})();
